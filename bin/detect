#!/usr/bin/env bash

set -euo pipefail

BUILD_DIR="${1}"

gradle_files=(
	"gradlew"
	"build.gradle"
	"build.gradle.kts"
	"settings.gradle"
	"settings.gradle.kts"
)

# We only check if any Gradle-related file exists to identify this as a Gradle project.
# We intentionally don't validate that all required files are present (e.g., gradlew)
# so that the compile script can provide more specific and helpful error messages
# about what's missing, rather than failing early here with a generic message.
for gradle_file in "${gradle_files[@]}"; do
	if [[ -f "${BUILD_DIR}/${gradle_file}" ]]; then
		echo "Gradle"
		exit 0
	fi
done

(>&2 echo "Could not find a gradlew file or other supported Gradle files!")
exit 1
